<div class="header-div">
  <header data-header-title>Edit Purchase</header>
</div>

<div data-purchase-input>
  <!-- ID  -->
  <div class="purchase-value-ctn" data-purchase-id>
    <div data-id-label class="purchase-value-label">Id</div>
    <p>{{this.purchase.id}}</p>
  </div>

  <!-- PRODUCT  -->
  <div class="dropdown-ctn">
    <div data-dropdown-label class="dropdown__label">
      Product
    </div>
    <div class="dropdown__data">
      <mat-form-field class="dropdown-form-field">
        <mat-label>Select Value</mat-label>
        <mat-select [formControl]="productControl">
          <mat-option
            *ngFor="let product of this.filterProducts()"
            data-dropdown-option
            [value]="product.id"
            (click)="applyMinSellAmount()"
          >
            {{product.display()}}
          </mat-option>
        </mat-select>
        <mat-error data-basic-error *ngIf="!productControl.valid">
          Product is required
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <!-- PURCHASER  -->
  <div class="dropdown-ctn">
    <div data-dropdown-label class="dropdown__label">
      Purchaser
    </div>
    <div class="dropdown__data">
      <mat-form-field class="dropdown-form-field">
        <mat-label>Select Value</mat-label>
        <mat-select [formControl]="purchaserControl">
          <mat-option
            *ngFor="let person of this.settingsService.people"
            data-dropdown-option
            [value]="person.id"
            [title]="person.name()"
          >
            {{person.name()}}
          </mat-option>
        </mat-select>
        <mat-error data-basic-error *ngIf="!purchaserControl.valid">
          Purchaser is required
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <!-- AMOUNT  -->
  <div class="purchase-value-ctn">
    <div data-amount-label class="purchase-value-label">Amount</div>
    <mat-form-field class="purchase-value-form-field">
      <input matInput data-amount
             type="text"
             rows="1"
             [formControl]="amountControl"
      >
      <mat-error data-basic-error *ngIf="!amountControl.valid">
        Amount is required
      </mat-error>
    </mat-form-field>
  </div>


</div>

<div class="buttons">
  <button data-button-save-purchase
          (click)="edit()"
          [disabled]="!this.formGroup.valid"
          class="save-purchase">Save Purchase
  </button>
  <button data-button-cancel-purchase
          (click)="cancel(false)"
  >Cancel
  </button>
</div>
